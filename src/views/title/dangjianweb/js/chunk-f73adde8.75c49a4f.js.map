{"version":3,"sources":["webpack:///./src/views/webManage/Cart.vue?878f","webpack:///./src/api/cartManage/cart.js","webpack:///src/views/webManage/Cart.vue","webpack:///./src/views/webManage/Cart.vue?4e31","webpack:///./src/views/webManage/Cart.vue","webpack:///./src/views/webManage/Cart.vue?6b36"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","attrs","tableData","on","handleSelectionChange","scopedSlots","_u","key","fn","scope","_v","_s","row","goods","name","price","numChange","model","value","callback","$$v","$set","expression","_f","num","$event","handleDelete","$index","slot","staticClass","dels","totalCount","sum","class","nativeOn","toOrderSave","staticRenderFns","cartList","params","request","url","method","data","multipleSelection","created","methods","val","console","log","splice","index","cartOrder","i","length","$router","push","computed","counts","forEach","v","totalSum","component"],"mappings":"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","file":"js/chunk-f73adde8.75c49a4f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"margin\":\"50px auto\",\"width\":\"70%\"},attrs:{\"data\":_vm.tableData,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.goods.name))]}}])}),_c('el-table-column',{attrs:{\"label\":\"单价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.goods.price))]}}])}),_c('el-table-column',{attrs:{\"label\":\"数量\",\"width\":\"255\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input-number',{attrs:{\"min\":1,\"max\":10,\"label\":\"数量\"},on:{\"change\":_vm.numChange},model:{value:(scope.row.num),callback:function ($$v) {_vm.$set(scope.row, \"num\", $$v)},expression:\"scope.row.num\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"合计\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"toDecimal\")(scope.row.goods.price*scope.row.num)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])}),_c('div',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"slot\":\"append\"},slot:\"append\"},[_c('div',{staticClass:\"cart-footer clear\"},[_c('div',{staticClass:\"delete-con\"},[_c('a',{staticClass:\"cart-delete-seleced link\"},[_c('el-button',{on:{\"click\":_vm.dels}},[_vm._v(\"删除选中\")])],1)]),_c('div',{staticClass:\"submit-con\"},[_c('span',[_vm._v(\" 已选商品 \"),_c('span',{attrs:{\"id\":\"selectGoodsCount\"}},[_vm._v(_vm._s(_vm.totalCount))]),_vm._v(\" 件 \")]),_c('span',[_vm._v(\"总价：\")]),_c('span',{staticClass:\"submit-total\"},[_vm._v(\" ￥ \"),_c('span',{attrs:{\"id\":\"selectGoodsMoney\"}},[_vm._v(_vm._s(_vm._f(\"toDecimal\")(_vm.sum)))])]),_c('el-button',{staticClass:\"btn submit-btn\",class:_vm.totalCount>0?'':'submitDis',nativeOn:{\"click\":function($event){return _vm.toOrderSave($event)}}},[_vm._v(\"去结算\")])],1)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request.js\";\r\n\r\n/**\r\n * 获取商品类型\r\n * @param params\r\n * @returns {AxiosPromise}\r\n */\r\nexport function cartList(params) {\r\n  return request({\r\n    url: \"/cart/list\", //如果是绝对路径就不会在使用配置里的url\r\n    method: \"get\",\r\n    params: params //注意：如果是post请求请使用 data: params\r\n  });\r\n}","<template>\r\n  <div>\r\n    <el-table\r\n      ref=\"multipleTable\"\r\n      :data=\"tableData\"\r\n      tooltip-effect=\"dark\"\r\n      style=\"margin:50px auto;width: 70%\"\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column label=\"商品信息\">\r\n        <template slot-scope=\"scope\">{{ scope.row.goods.name }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"单价\">\r\n        <template slot-scope=\"scope\">{{ scope.row.goods.price }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"数量\" width=\"255\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input-number\r\n            v-model=\"scope.row.num\"\r\n            @change=\"numChange\"\r\n            :min=\"1\"\r\n            :max=\"10\"\r\n            label=\"数量\"\r\n          ></el-input-number>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"合计\">\r\n        <template slot-scope=\"scope\">{{ scope.row.goods.price*scope.row.num|toDecimal }}</template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <div style=\"margin-top: 20px\" slot=\"append\">\r\n        <div class=\"cart-footer clear\">\r\n          <div class=\"delete-con\">\r\n            <a class=\"cart-delete-seleced link\">\r\n              <el-button @click=\"dels\">删除选中</el-button>\r\n            </a>\r\n          </div>\r\n          <div class=\"submit-con\">\r\n            <span>\r\n              已选商品\r\n              <span id=\"selectGoodsCount\">{{totalCount}}</span> 件\r\n            </span>\r\n            <span>总价：</span>\r\n            <span class=\"submit-total\">\r\n              ￥\r\n              <span id=\"selectGoodsMoney\">{{sum|toDecimal}}</span>\r\n            </span>\r\n            <el-button class=\"btn submit-btn\" :class=\"totalCount>0?'':'submitDis'\" \r\n              @click.native=\"toOrderSave\">去结算</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { cartList } from \"@/api/cartManage/cart\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      multipleSelection: [] //存储选中的列表\r\n    };\r\n  },\r\n  created() {\r\n    cartList({ userId: 1 })\r\n      .then(r => {\r\n        this.tableData = r;\r\n      })\r\n      .catch(() => {});\r\n  },\r\n  methods: {\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(row);\r\n      this.tableData.splice(index, 1);\r\n    },\r\n    dels() {\r\n      //删除选中\r\n    },\r\n    numChange(value) {\r\n      console.log(value);\r\n    },\r\n    toOrderSave(){\r\n      var cartOrder=[]\r\n      for (var i = 0; i < this.multipleSelection.length; i++) {\r\n        cartOrder[i]=this.multipleSelection[i];     \r\n      }\r\n      this.$router.push({path: 'OrderSave', query: {cartOrder: cartOrder}})\r\n    }\r\n  },\r\n  computed: {\r\n    totalCount: function() {\r\n      //总件数：遍历对象数组统计数组中每个对象的count值\r\n      var counts = 0;\r\n      this.multipleSelection.forEach(function(v) {\r\n        counts += v.num;\r\n      });\r\n      return counts;\r\n    },\r\n    sum: function() {\r\n      //总价钱\r\n      var totalSum = 0.0;\r\n      this.multipleSelection.forEach(function(v) {\r\n        totalSum += v.goods.price * v.num; //等价于totalSum=totalSum+v.price*v.count\r\n      });\r\n      return totalSum;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n/* cart-footer */\r\n.cart-footer {\r\n  position: relative;\r\n  line-height: 50px;\r\n  background: #eee;\r\n  overflow: hidden;\r\n}\r\n.cart-footer .select-con {\r\n  float: left;\r\n  padding-left: 20px;\r\n}\r\n.cart-footer .delete-con {\r\n  float: left;\r\n  margin-left: 20px;\r\n}\r\n.cart-footer .submit-con {\r\n  float: right;\r\n}\r\n.btn{\r\n  background: #c60023;\r\n  color:#eee\r\n}\r\n.cart-footer .submit-con .submit-total,\r\n#selectGoodsCount {\r\n  font-size: 18px;\r\n  color: #c60023;\r\n  font-weight: bold;\r\n  margin-right: 30px;\r\n  vertical-align: middle;\r\n}\r\n#selectGoodsCount {\r\n  margin-right: 5px;\r\n}\r\n.submit-con .submitDis {\r\n  background: #b0b0b0;\r\n  cursor: no-drop;\r\n}\r\n.cart-footer .submit-con .btn-submit {\r\n  width: 80px;\r\n  text-align: center;\r\n  height: 50px;\r\n  line-height: 50px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=def81720&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}